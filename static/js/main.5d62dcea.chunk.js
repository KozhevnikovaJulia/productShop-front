(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(t,e,c){},72:function(t,e,c){},97:function(t,e,c){"use strict";c.r(e);var r=c(0),n=c(25),i=c.n(n),a=(c(72),c(8)),o=(c(24),c(123)),s=c(39),p=c.n(s),u=c(54),j=c(63),d=c(19),b=c(40),l=c.n(b),O=function(){return l.a.get("https://product-shop-back.herokuapp.com/shop")},h="SET_PRODUCTS",x="ADD_PRODUCT_SHOPPING_CART",m="SET_TOTAL_PRICE",f="CHANGE_PRODUCT_COUNT",g="SET_CURRENT_CUSTOMER_INFO",v={products:[],shoppingCart:[],itemsCount:0,totalPrice:0,"current\u0421ustomerInfo":{}},C=function(t,e){return{type:f,id:t,operation:e}},_=c(2),N=function(t){var e=t.product,c=t.count,n=Object(a.b)(),i=Object(a.c)((function(t){return t.app.shoppingCart})),s=e.price*c,p=i.reduce((function(t,e){return t+e.product.price*e.count}),0);return Object(r.useEffect)((function(){n({type:m,totalPrice:p})}),[c]),Object(_.jsxs)("div",{className:"itemShoppingCart",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:e.img})}),Object(_.jsx)("h1",{children:e.title}),Object(_.jsx)("div",{className:"itemShoppingCart__itemDescription",children:e.description}),Object(_.jsxs)("h1",{children:[s," $"]}),Object(_.jsxs)("div",{className:"itemShoppingCart__buttons",children:[Object(_.jsx)(o.a,{disabled:c<2,onClick:function(){n(C(e.id,"decrease"))},color:"inherit",type:"submit",variant:"contained",children:"-"}),Object(_.jsx)("h3",{children:c}),Object(_.jsx)(o.a,{onClick:function(){n(C(e.id,"increase"))},color:"inherit",type:"submit",variant:"contained",children:"+"})]})]})},y=c(118),S=c(98),P=(c(62),c(119),c(124),c(7)),T=function(){var t=Object(a.c)((function(t){return t.app.shoppingCart})),e=Object(a.c)((function(t){return t.app.totalPrice})),c=Object(P.g)();return Object(_.jsxs)("div",{className:"shoppingCart",children:[Object(_.jsxs)("div",{className:"shoppingCart__shoppingListWrapper",children:[Object(_.jsx)("div",{className:"shoppingCart__shoppingList",children:t&&0===t.length?Object(_.jsx)("h1",{children:"\u0421art is empty"}):t&&t.map((function(t){return Object(_.jsx)(y.a,{item:!0,children:Object(_.jsx)(S.a,{elevation:3,style:{width:"100%",padding:"15px",margin:"10px",backgroundSize:"100% auto"},children:Object(_.jsx)(N,{product:t.product,count:t.count})},t.product.id)})}))}),Object(_.jsx)("div",{className:"shoppingCart__order",children:Object(_.jsx)("div",{children:Object(_.jsx)(o.a,{color:"inherit",type:"submit",variant:"contained",onClick:function(){c.push("/order")},children:"Order"})})})]}),Object(_.jsxs)("h1",{children:["Total: ",e," "]})]})},k=function(t){var e=t.product,c=Object(a.b)();return Object(_.jsxs)("div",{className:"product",children:[Object(_.jsx)("div",{className:"product__imageWrapper",children:Object(_.jsx)("img",{src:e.img})}),Object(_.jsx)("h1",{children:e.title}),Object(_.jsx)("div",{children:e.description}),Object(_.jsxs)("h1",{children:[e.price," $"]}),Object(_.jsx)(o.a,{onClick:function(){c({type:x,payload:{product:e,count:1}})},color:"inherit",type:"submit",variant:"contained",children:"Add to Cart"})]})},I=function(t){var e=t.products;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(y.a,{className:"container",container:!0,spacing:3,children:e&&e.map((function(t){return Object(_.jsx)(y.a,{item:!0,children:Object(_.jsx)(S.a,{elevation:3,style:{width:"250px",padding:"15px",backgroundSize:"100% auto"},children:Object(_.jsx)(k,{product:t})},t.id)})}))})})},E=function(t){var e=t.products;return Object(_.jsxs)(P.d,{children:[Object(_.jsx)(P.b,{exact:!0,path:"/",render:function(){return Object(_.jsx)(I,{products:e})}}),Object(_.jsx)(P.b,{path:"/cart",render:function(){return Object(_.jsx)(T,{})}}),Object(_.jsx)(P.b,{path:"/404",render:function(){return Object(_.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(_.jsx)(P.a,{from:"*",to:"/"})]})},w=c(120),R=c(121),A=c(122),D=c(26),U=function(){var t=Object(a.c)((function(t){return t.app.itemsCount}));return Object(_.jsx)(w.a,{position:"static",style:{backgroundColor:"rgb(185, 180, 180)"},children:Object(_.jsxs)(R.a,{className:"toolBur",children:[Object(_.jsx)("div",{className:"toolBur__iconBlock",children:Object(_.jsx)(A.a,{variant:"h6",style:{marginTop:"8px"},children:Object(_.jsx)(D.b,{to:"/",children:"SHOP"})})}),Object(_.jsxs)("div",{className:"toolBur__cartWrapper",children:[Object(_.jsxs)(D.b,{to:"/cart",children:[Object(_.jsx)(o.a,{color:"inherit",type:"submit",variant:"contained",children:"Cart"}),Object(_.jsx)(o.a,{children:"New"})]}),Object(_.jsx)("div",{children:t})]})]})})},B=function(){var t=Object(a.b)();Object(r.useEffect)((function(){t(function(){var t=Object(u.a)(p.a.mark((function t(e){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:c=t.sent,e((r=c.data,{type:h,products:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);Object(a.c)((function(t){return t.app.current\u0421ustomerInfo})),Object(a.c)((function(t){return t.app.ddd})),Object(a.c)((function(t){return t.app.shoppingCart})),Object(a.c)((function(t){return t.app.totalPrice}));var e=Object(a.c)((function(t){return t.app.itemsCount})),c=Object(a.c)((function(t){return t.app.products}));return console.log(e),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(U,{}),Object(_.jsx)(E,{products:c})]})},J=c(29),F=c(61),G=Object(J.c)({app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(d.a)(Object(d.a)({},t),{},{products:e.products});case x:return Object(d.a)(Object(d.a)({},t),{},{shoppingCart:[].concat(Object(j.a)(t.shoppingCart),[e.payload]),itemsCount:t.itemsCount+1});case m:return Object(d.a)(Object(d.a)({},t),{},{totalPrice:e.totalPrice});case f:return Object(d.a)(Object(d.a)({},t),{},{shoppingCart:t.shoppingCart.map((function(t){if(t.product.id===e.id){if("increase"===e.operation)return{product:t.product,count:t.count+1};if("decrease"===e.operation)return{product:t.product,count:t.count-1}}return t}))});case g:return Object(d.a)(Object(d.a)({},t),{},{"current\u0421ustomerInfo":e.current\u0421ustomerInfo});default:return t}}}),H={app:localStorage.getItem("app")?JSON.parse(localStorage.getItem("app")):{products:[],shoppingCart:[],itemsCount:0,totalPrice:0,"current\u0421ustomerInfo":{}}},L=Object(J.d)(G,H,Object(J.a)(F.a));L.subscribe((function(){localStorage.setItem("app",JSON.stringify(L.getState().app))})),i.a.render(Object(_.jsx)(a.a,{store:L,children:Object(_.jsx)(D.a,{children:Object(_.jsx)(B,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.5d62dcea.chunk.js.map