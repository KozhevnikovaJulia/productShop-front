(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,n){},74:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(25),i=n.n(a),s=(n(74),n(14)),o=(n(24),n(125)),d=n(41),u=n.n(d),j=n(57),l=n(66),p=n(23),h=n(42),b=n.n(h),O=function(){return b.a.get("https://product-shop-back.herokuapp.com/shop")},x="SET_PRODUCTS",m="ADD_PRODUCT_SHOPPING_CART",v="SET_TOTAL_PRICE",g="CHANGE_PRODUCT_COUNT",f={products:[],shoppingCart:[],itemsCount:0,totalPrice:0},C=function(e,t){return{type:g,id:e,operation:t}},y=n(2),N=function(e){var t=e.product,n=e.count,c=Object(s.b)(),a=Object(s.c)((function(e){return e.app.shoppingCart})),i=t.price*n,d=a.reduce((function(e,t){return e+t.product.price*t.count}),0);return Object(r.useEffect)((function(){c({type:v,totalPrice:d})}),[n]),Object(y.jsxs)("div",{className:"itemShoppingCart",children:[Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:t.img})}),Object(y.jsx)("h1",{children:t.title}),Object(y.jsx)("div",{className:"itemShoppingCart__itemDescription",children:t.description}),Object(y.jsxs)("h1",{children:[i," $"]}),Object(y.jsxs)("div",{className:"itemShoppingCart__buttons",children:[Object(y.jsx)(o.a,{disabled:n<2,onClick:function(){c(C(t.id,"decrease"))},color:"inherit",type:"submit",variant:"contained",children:"-"}),Object(y.jsx)("h3",{children:n}),Object(y.jsx)(o.a,{onClick:function(){c(C(t.id,"increase"))},color:"inherit",type:"submit",variant:"contained",children:"+"})]})]})},_=n(100),S=n(120),P=n(65),B=n(127),T=n(121),k=n(126),w=function(){var e=Object(P.a)({initialValues:{name:"",surname:"",address:"",phone:null},validate:function(e){var t={};return e.name||(t.name="Required"),e.surname||(t.surname="Required"),e.address||(t.address="Required"),t},onSubmit:function(e){alert(JSON.stringify(e))}});return Object(y.jsx)("div",{children:Object(y.jsx)(S.a,{item:!0,children:Object(y.jsx)(_.a,{elevation:3,style:{width:"60%",padding:"15px",margin:"10px"},children:Object(y.jsx)("form",{onSubmit:e.handleSubmit,className:"orderForm",children:Object(y.jsx)(B.a,{children:Object(y.jsxs)(T.a,{children:[Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{name:"name",onChange:e.handleChange,onBlur:e.handleBlur,type:"text",value:e.values.name,placeholder:"Name"})}),e.touched.name&&e.errors.name?Object(y.jsxs)("div",{style:{color:"red"},children:[" ",e.errors.name," "]}):null,Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{name:"surname",onChange:e.handleChange,onBlur:e.handleBlur,type:"text",value:e.values.surname,placeholder:"Surname"})}),e.touched.surname&&e.errors.surname?Object(y.jsxs)("div",{style:{color:"red"},children:[" ",e.errors.surname," "]}):null,Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{name:"address",onChange:e.handleChange,onBlur:e.handleBlur,type:"text",value:e.values.address,placeholder:"Address"})}),e.touched.address&&e.errors.address?Object(y.jsxs)("div",{style:{color:"red"},children:[" ",e.errors.address," "]}):null,Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{name:"phone",onChange:e.handleChange,onBlur:e.handleBlur,type:"number",value:e.values.phone,placeholder:"Phone"})}),Object(y.jsx)("div",{children:Object(y.jsx)(o.a,{color:"inherit",type:"submit",variant:"contained",children:"Order"})})]})})})})})})},A=function(){var e=Object(s.c)((function(e){return e.app.shoppingCart})),t=Object(s.c)((function(e){return e.app.totalPrice}));return Object(y.jsxs)("div",{className:"shoppingCart",children:[Object(y.jsxs)("div",{className:"shoppingCart__shoppingListWrapper",children:[Object(y.jsx)("div",{className:"shoppingCart__shoppingList",children:0===e.length?Object(y.jsx)("h1",{children:"\u0421art is empty"}):e.map((function(e){return Object(y.jsx)(S.a,{item:!0,children:Object(y.jsx)(_.a,{elevation:3,style:{width:"100%",padding:"15px",margin:"10px",backgroundSize:"100% auto"},children:Object(y.jsx)(N,{product:e.product,count:e.count})},e.product.id)})}))}),Object(y.jsx)("div",{className:"shoppingCart__order",children:Object(y.jsx)(w,{})})]}),Object(y.jsxs)("h1",{children:["Total: ",t," "]})]})},D=n(7),E=function(e){var t=e.product,n=Object(s.b)();return Object(y.jsxs)("div",{className:"product",children:[Object(y.jsx)("div",{className:"product__imageWrapper",children:Object(y.jsx)("img",{src:t.img})}),Object(y.jsx)("h1",{children:t.title}),Object(y.jsx)("div",{children:t.description}),Object(y.jsxs)("h1",{children:[t.price," $"]}),Object(y.jsx)(o.a,{onClick:function(){n({type:m,payload:{product:t,count:1}})},color:"inherit",type:"submit",variant:"contained",children:"Add to Cart"})]})},R=function(e){var t=e.products;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(S.a,{className:"container",container:!0,spacing:3,children:t.map((function(e){return Object(y.jsx)(S.a,{item:!0,children:Object(y.jsx)(_.a,{elevation:3,style:{width:"250px",padding:"15px",backgroundSize:"100% auto"},children:Object(y.jsx)(E,{product:e})},e.id)})}))})})},F=function(e){var t=e.products;return Object(y.jsxs)(D.d,{children:[Object(y.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(y.jsx)(R,{products:t})}}),Object(y.jsx)(D.b,{path:"/cart",render:function(){return Object(y.jsx)(A,{})}}),Object(y.jsx)(D.b,{path:"/404",render:function(){return Object(y.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(y.jsx)(D.a,{from:"*",to:"/",children:" "})]})},I=n(122),J=n(123),L=n(124),U=n(27),q=function(){var e=Object(s.c)((function(e){return e.app.itemsCount}));return Object(y.jsx)(I.a,{position:"static",style:{backgroundColor:"rgb(185, 180, 180)"},children:Object(y.jsxs)(J.a,{className:"toolBur",children:[Object(y.jsx)("div",{className:"toolBur__iconBlock",children:Object(y.jsx)(L.a,{variant:"h6",style:{marginTop:"8px"},children:Object(y.jsx)(U.b,{to:"/",children:"SHOP"})})}),Object(y.jsxs)("div",{className:"toolBur__cartWrapper",children:[Object(y.jsx)(U.b,{to:"/cart",children:Object(y.jsx)(o.a,{color:"inherit",type:"submit",variant:"contained",children:"Cart"})}),Object(y.jsx)("div",{children:e})]})]})})};var G=function(){var e=Object(s.b)();Object(r.useEffect)((function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:n=e.sent,t((r=n.data,{type:x,products:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(s.c)((function(e){return e.app.products}));return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(U.a,{children:[Object(y.jsx)(q,{}),Object(y.jsx)(F,{products:t})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},W=n(29),z=n(64),$=Object(W.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(p.a)(Object(p.a)({},e),{},{products:t.products});case m:return Object(p.a)(Object(p.a)({},e),{},{shoppingCart:[].concat(Object(l.a)(e.shoppingCart),[t.payload]),itemsCount:e.itemsCount+1});case v:return Object(p.a)(Object(p.a)({},e),{},{totalPrice:t.totalPrice});case g:return Object(p.a)(Object(p.a)({},e),{},{shoppingCart:e.shoppingCart.map((function(e){if(e.product.id===t.id){if("increase"===t.operation)return{product:e.product,count:e.count+1};if("decrease"===t.operation)return{product:e.product,count:e.count-1}}return e}))});default:return e}}}),M={app:localStorage.getItem("app")?JSON.parse(localStorage.getItem("app")):{products:[],shoppingCart:[],itemsCount:0}},V=Object(W.d)($,M,Object(W.a)(z.a));V.subscribe((function(){localStorage.setItem("app",JSON.stringify(V.getState().app))})),i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(s.a,{store:V,children:Object(y.jsx)(G,{})})}),document.getElementById("root")),H()}},[[99,1,2]]]);
//# sourceMappingURL=main.e325c755.chunk.js.map